/* ==========================================================
   MCC â€” Coffee Layout (placement only)
   Scope: pages with <body class="layout-coffee">
   ========================================================== */

/* Shell & main grid */
.layout-coffee .pdp{max-width:1400px;margin:0 auto;padding:0 20px}
.layout-coffee .pdp-grid{display:grid;grid-template-columns:5fr 3fr;gap:60px}
@media (max-width:1024px){.layout-coffee .pdp-grid{grid-template-columns:1fr;gap:32px}}

/* Sticky buy column */
.layout-coffee .buy{position:sticky;top:24px}

/* Gallery placement */
.layout-coffee .product-gallery{margin-bottom:40px;position:relative;z-index:2;width:100%;max-width:none}
.layout-coffee .gallery-grid{
  display:grid;grid-template-columns:1fr 1fr;grid-template-rows:4fr 1fr;gap:2px;
  aspect-ratio:1.6/1;min-height:400px;max-height:1000px;position:relative
}
.layout-coffee .gallery-main{grid-column:1/3;grid-row:1/2;overflow:hidden;cursor:pointer;position:relative;height:100%;width:100%}
.layout-coffee .gallery-secondary{grid-column:1/3;grid-row:2/3;display:grid;grid-template-columns:1fr 1fr;gap:2px;position:relative;height:100%;width:100%}
.layout-coffee .gallery-thumb{overflow:hidden;cursor:pointer;transition:opacity .2s;position:relative;height:100%;width:100%}

/* Content stack spacing */
.layout-coffee .product-sections{display:flex;flex-direction:column;gap:40px;position:relative;z-index:1;padding:0 40px}
.layout-coffee .content-section{position:relative;padding:0}

/* Flavor cards (layout sizing only; visuals are global) */
:root{--flavor-card-w:190px;--flavor-card-h:230px;--flavor-gap:16px}
.layout-coffee .flavor-profiles{margin-top:40px}
.layout-coffee .flavor-profiles .flavor-grid{display:flex;flex-wrap:wrap;gap:var(--flavor-gap);justify-content:flex-start}
.layout-coffee .flavor-profiles .flavor-card{
  width:var(--flavor-card-w);height:var(--flavor-card-h);flex:0 0 var(--flavor-card-w);
  display:grid;grid-template-rows:120px auto 1fr;align-content:start
}

/* Details (made/growing) placement */
.layout-coffee .made-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px 32px}
.layout-coffee .made-grid.two-by-two{grid-template-columns:repeat(2,200px);justify-content:left;gap:24px 48px}
.layout-coffee .made-grid.two-by-two .made-col{display:grid;grid-auto-rows:min-content;gap:16px}
@media (max-width:520px){.layout-coffee .made-grid.two-by-two{grid-template-columns:1fr;gap:20px}}

.layout-coffee .growing-details .growing-wrap{display:grid;grid-template-columns:1fr 300px;gap:24px 32px;align-items:start}
.layout-coffee .growing-details .growing-list{display:grid;gap:16px}
@media (max-width:860px){
  .layout-coffee .growing-details .growing-wrap{grid-template-columns:1fr}
  .layout-coffee .growing-details .growing-map{order:1}
  .layout-coffee .growing-details .growing-list{order:2}
}

/* Brew grid */
.layout-coffee .brew-methods{margin-top:40px}
.layout-coffee .brew-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
@media (max-width:768px){
  .layout-coffee .brew-grid{grid-template-columns:1fr;gap:16px}
  .layout-coffee .brew-card{display:grid;grid-template-columns:auto 1fr;align-items:center;text-align:left;padding:24px}
}

/* Recommended (count/columns only) */
.layout-coffee .recommended-section{padding:40px 0}
.layout-coffee .recommended-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:16px}
@media (min-width:769px){.layout-coffee .recommended-grid{grid-template-columns:repeat(3,minmax(0,1fr));gap:20px}}

/* Sidebar container (no colors here) */
.layout-coffee .product-sidebar{height:fit-content;width:100%}

/* Mobile reflow */
@media (max-width:768px){
  .layout-coffee .product-hero-mobile{display:block;margin-bottom:20px;width:100%;order:1}
  .layout-coffee .product-gallery{display:none}
  .layout-coffee .product-main{width:100%;order:3}
  .layout-coffee .product-sidebar{width:100%;order:2;position:static}
  .layout-coffee .product-sections{padding:0 20px 20px;gap:20px;width:100%}
  .layout-coffee .content-section{padding:20px;border-radius:12px;width:100%;box-sizing:border-box}
}

/* === Cart Drawer Layer Fix (for Coffee/Cold Brew) === */
/* Ensure cart drawer z-index is above header and all other content */

/* Global selectors to override component-cart-drawer.css (z-index 1300) */
/* These must be global (not scoped) to work before body class is applied */
cart-drawer,
#CartDrawer,
[data-cart-drawer] {
  z-index: 12000 !important;
}

/* Override .drawer class z-index from component-cart-drawer.css */
.drawer {
  z-index: 12000 !important;
}

/* Scoped selectors (backup, in case global doesn't match) */
.layout-coffee cart-drawer,
.layout-coffee #CartDrawer,
.layout-coffee [data-cart-drawer] {
  z-index: 12000 !important;
}

.layout-coffee .shopify-section-cart-drawer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 12000 !important;
  pointer-events: none;
}

.layout-coffee .shopify-section-cart-drawer cart-drawer {
  pointer-events: auto;
  z-index: 12000 !important;
}

.layout-coffee .shopify-section-cart-drawer .drawer,
.layout-coffee cart-drawer.drawer {
  z-index: 12000 !important;
}

.layout-coffee .shopify-section-cart-drawer .cart-drawer__overlay,
.layout-coffee cart-drawer .cart-drawer__overlay {
  z-index: 12000 !important;
}

.layout-coffee cart-drawer,
.layout-coffee .cart-drawer {
  z-index: 12000 !important;
}

/* Ensure header stays above other content but below cart drawer */
/* Global selectors to override base.css z-index rules */
.header-wrapper {
  z-index: 2000 !important;
}

.section-header.shopify-section-group-header-group {
  z-index: 2000 !important;
}

/* Scoped selectors (backup) */
.layout-coffee header.header,
.layout-coffee #shopify-section-header,
.layout-coffee .section-header.shopify-section-group-header-group {
  z-index: 2000 !important;
}
